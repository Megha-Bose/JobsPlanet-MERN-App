{"ast":null,"code":"var _jsxFileName = \"/home/megha/mernapp/frontend/src/components/Recruiter/AppList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport PropTypes from \"prop-types\";\nimport Card from \"react-bootstrap/Card\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass AppList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.state = {\n      userdetails: [],\n      users: [],\n      jobs: [],\n      applications: [],\n      rating: 0\n    }; // this.renderIcon = this.renderIcon.bind(this);\n    // this.sortChange = this.sortChange.bind(this);\n\n    this.renderNameIcon = this.renderNameIcon.bind(this);\n    this.renderDateOfApplyIcon = this.renderDateOfApplyIcon.bind(this);\n    this.renderRatingIcon = this.renderRatingIcon.bind(this);\n    this.sortByName = this.sortByName.bind(this);\n    this.sortByDateOfApply = this.sortByDateOfApply.bind(this);\n    this.sortByRating = this.sortByRating.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      user\n    } = this.props.auth;\n    axios.get('http://localhost:4000/user/' + user.id).then(response => {\n      this.setState({\n        userdetails: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/job/get_jobs').then(response => {\n      this.setState({\n        jobs: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/user/').then(response => {\n      this.setState({\n        users: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/application/get_applications').then(response => {\n      this.setState({\n        applications: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  sortByName() {\n    var array = this.state.jobs;\n    var flag = this.state.sortbysalary;\n    array.sort(function (a, b) {\n      if (a.salary !== undefined && b.salary !== undefined) {\n        return (1 - +flag * 2) * (+a.salary - +b.salary);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      jobs: array,\n      sortbysalary: !this.state.sortbysalary\n    });\n  }\n\n  sortByDateOfApply() {\n    var array = this.state.jobs;\n    var flag = this.state.sortbyduration;\n    array.sort(function (a, b) {\n      if (a.duration !== undefined && b.duration !== undefined) {\n        return (1 - +flag * 2) * (+a.duration - +b.duration);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      jobs: array,\n      sortbyduration: !this.state.sortbyduration\n    });\n  }\n\n  sortByRating() {\n    var array = this.state.jobs;\n    var flag = this.state.sortbyrating;\n    array.sort(function (a, b) {\n      if (a.rating !== undefined && b.rating !== undefined) {\n        return (1 - +flag * 2) * (+a.rating - +b.rating);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      jobs: array,\n      sortbyrating: !this.state.sortbyrating\n    });\n  }\n\n  renderNameIcon() {\n    if (this.state.sortbysalary) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderDateOfApplyIcon() {\n    if (this.state.sortbyduration) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderRatingIcon() {\n    if (this.state.sortbyrating) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      });\n    }\n  }\n\n  getjob(jobId) {\n    let job = this.state.jobs.filter(item => item._id === jobId)[0];\n    return job;\n  }\n\n  getapplicant(applicantId) {\n    let applicant = this.state.users.filter(item => item.id === applicantId)[0];\n    console.log(applicant);\n    return applicant;\n  }\n\n  shortlist(application) {\n    const editApplication = {\n      status: \"Shortlisted\"\n    };\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  }\n\n  accept(application) {\n    let job = this.getjob(application.jobId);\n    let nnumpos = job.numpos + 1;\n    const editApplicant = {\n      working: true\n    };\n    const editJob = {\n      numpos: nnumpos\n    };\n    const editApplication = {\n      status: \"Accepted\"\n    };\n    axios.put('http://localhost:4000/job/edit_job/' + job._id, editJob).then(response => {\n      console.log(editJob);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant).then(response => {\n      console.log(editApplicant);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  }\n\n  reject(application) {\n    // const { user } = this.props.auth;\n    // let job = this.getjob(application.jobId);\n    let applicant = this.getapplicant(application.applicantId);\n    let nnumapp = applicant.numapp + 1;\n    const editApplicant = {\n      numapp: nnumapp\n    };\n    const editApplication = {\n      status: \"Rejected\"\n    };\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant).then(response => {\n      console.log(editApplicant);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      user\n    } = this.props.auth;\n    const userRole = this.state.userdetails.role;\n    let Applications;\n\n    if (userRole === \"recruiter\") {\n      Applications = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 3,\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"nav\",\n        \"aria-label\": \"mailbox folders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        text: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"Applications\"))))), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 2,\n        lg: 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(Table, {\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Title\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \"Applicant\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Appl. Rating\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Appl. Skills\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, \"Education\"))), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"SOP\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Status\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"Date of Application\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, this.state.applications.filter(item => item.status !== \"Rejected\" && item.recruiterId == user.id && item.jobId == this.props.location.state).map((application, ind) => React.createElement(TableRow, {\n        key: ind,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, application.title), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, applicant.name)), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, applicant.rating ? applicant.rating.toFixed(1) : \"\", React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, \" star\")))), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, applicant.skills.join(\", \"))), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, applicant.education.map(ed => React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"School: \", ed.school), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \"Degree: \", ed.degree), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"Start date: \", ed.startdate ? ed.startdate.toString().substring(0, 10) : \"NA\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, \"End date: \", ed.enddate ? ed.enddate.toString().substring(0, 10) : \"NA\"))))), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, application.sop), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, application.status), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, application.dateOfApplication.substring(0, 10)), application.status === \"Applied\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Shortlist Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.shortlist(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, \"Shortlist\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }), application.status === \"Shortlisted\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Accept Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.accept(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, \"Accept\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }), application.status === \"Accepted\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Reject Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, \"Accepted\"))) : React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Rate this job\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.reject(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, \"Reject\")))))))))));\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        height: \"75vh\"\n      },\n      className: \"container valign-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, Applications))))));\n  }\n\n}\n\nAppList.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps)(AppList);","map":{"version":3,"sources":["/home/megha/mernapp/frontend/src/components/Recruiter/AppList.js"],"names":["React","Component","axios","Paper","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","TextField","List","Tooltip","ListItem","Divider","Autocomplete","IconButton","InputAdornment","SearchIcon","ArrowUpwardIcon","ArrowDownwardIcon","PropTypes","Card","connect","logoutUser","ButtonGroup","Dropdown","AppList","constructor","props","onLogoutClick","e","preventDefault","onChange","setState","target","id","value","state","userdetails","users","jobs","applications","rating","renderNameIcon","bind","renderDateOfApplyIcon","renderRatingIcon","sortByName","sortByDateOfApply","sortByRating","componentDidMount","user","auth","get","then","response","data","catch","error","console","log","componentWillReceiveProps","nextProps","errors","array","flag","sortbysalary","sort","a","b","salary","undefined","sortbyduration","duration","sortbyrating","getjob","jobId","job","filter","item","_id","getapplicant","applicantId","applicant","shortlist","application","editApplication","status","put","window","location","reload","accept","nnumpos","numpos","editApplicant","working","editJob","reject","nnumapp","numapp","render","userRole","role","Applications","recruiterId","map","ind","title","innd","name","toFixed","skills","join","education","ed","school","degree","startdate","toString","substring","enddate","sop","dateOfApplication","height","width","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\n\nimport PropTypes from \"prop-types\";\nimport Card from \"react-bootstrap/Card\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\n\n\nclass AppList extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            userdetails: [],\n            users: [],\n            jobs: [],\n            applications: [],\n            rating: 0\n        };\n        // this.renderIcon = this.renderIcon.bind(this);\n        // this.sortChange = this.sortChange.bind(this);\n        this.renderNameIcon = this.renderNameIcon.bind(this);\n        this.renderDateOfApplyIcon = this.renderDateOfApplyIcon.bind(this);\n        this.renderRatingIcon = this.renderRatingIcon.bind(this);\n        this.sortByName = this.sortByName.bind(this);\n        this.sortByDateOfApply = this.sortByDateOfApply.bind(this);\n        this.sortByRating = this.sortByRating.bind(this);\n    }\n\n    onLogoutClick = e => {\n        e.preventDefault();\n        this.props.logoutUser();\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.id]: e.target.value });\n    };\n\n    componentDidMount() {\n        const { user } = this.props.auth;\n        axios.get('http://localhost:4000/user/'+ user.id)\n                .then(response => {\n                    this.setState({userdetails: response.data});\n                })\n                .catch(function(error) {\n                    console.log(error);\n                })\n        axios.get('http://localhost:4000/job/get_jobs')\n            .then(response => {\n                this.setState({jobs: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        axios.get('http://localhost:4000/user/')\n            .then(response => {\n                this.setState({users: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        axios.get('http://localhost:4000/application/get_applications')\n            .then(response => {\n                this.setState({applications: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n            this.setState({\n            errors: nextProps.errors\n            });\n        }\n    }\n\n    sortByName(){\n        var array = this.state.jobs;\n        var flag = this.state.sortbysalary;\n        array.sort(function(a, b) {\n            if(a.salary !== undefined && b.salary !== undefined){\n                return (1 - +flag*2) * (+a.salary - +b.salary);\n            }\n            else{\n                return 1;\n            }\n          });\n        this.setState({\n            jobs:array,\n            sortbysalary:!this.state.sortbysalary,\n        })\n    }\n\n    sortByDateOfApply(){\n        var array = this.state.jobs;\n        var flag = this.state.sortbyduration;\n        array.sort(function(a, b) {\n            if(a.duration !== undefined && b.duration !== undefined){\n                return (1 - +flag*2) * (+a.duration - +b.duration);\n            }\n            else{\n                return 1;\n            }\n          });\n        this.setState({\n            jobs:array,\n            sortbyduration:!this.state.sortbyduration,\n        })\n    }\n\n    sortByRating(){\n        var array = this.state.jobs;\n        var flag = this.state.sortbyrating;\n        array.sort(function(a, b) {\n            if(a.rating !== undefined && b.rating !== undefined){\n                return (1 - +flag*2) * (+a.rating - +b.rating);\n            }\n            else{\n                return 1;\n            }\n          });\n        this.setState({\n            jobs:array,\n            sortbyrating:!this.state.sortbyrating,\n        })\n    }\n\n    renderNameIcon(){\n        if(this.state.sortbysalary){\n            return(\n                <ArrowDownwardIcon/>\n            )\n        }\n        else{\n            return(\n                <ArrowUpwardIcon/>\n            )            \n        }\n    }\n\n    renderDateOfApplyIcon(){\n        if(this.state.sortbyduration){\n            return(\n                <ArrowDownwardIcon/>\n            )\n        }\n        else{\n            return(\n                <ArrowUpwardIcon/>\n            )            \n        }\n    }\n\n    renderRatingIcon(){\n        if(this.state.sortbyrating){\n            return(\n                <ArrowDownwardIcon/>\n            )\n        }\n        else{\n            return(\n                <ArrowUpwardIcon/>\n            )            \n        }\n    }\n\n    getjob(jobId)\n    {\n        let job = this.state.jobs.filter(item => item._id === jobId)[0];\n        return job;\n    }\n\n    getapplicant(applicantId)\n    {\n        let applicant = this.state.users.filter(item => item.id === applicantId)[0];\n        console.log(applicant);\n        return applicant;\n    }\n\n    shortlist(application) {\n        const editApplication = {\n            status: \"Shortlisted\"\n        };\n\n        axios\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\n            .then(response => {\n                console.log(editApplication);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        window.location.reload();\n    }\n\n    accept(application) {\n        let job = this.getjob(application.jobId);\n        let nnumpos = job.numpos + 1;\n\n        const editApplicant = {\n            working: true\n        };\n\n        const editJob = {\n            numpos: nnumpos\n        };\n\n        const editApplication = {\n            status: \"Accepted\"\n        };\n\n        axios\n            .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\n            .then(response => {\n                console.log(editJob);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n\n        axios\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\n            .then(response => {\n                console.log(editApplication);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        \n        axios\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\n            .then(response => {\n                console.log(editApplicant);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n\n        window.location.reload();\n    }\n\n    reject(application) {\n        // const { user } = this.props.auth;\n        // let job = this.getjob(application.jobId);\n        let applicant = this.getapplicant(application.applicantId);\n        let nnumapp = applicant.numapp + 1;\n\n        const editApplicant = {\n            numapp: nnumapp\n        };\n\n        const editApplication = {\n            status: \"Rejected\"\n        };\n\n        axios\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\n            .then(response => {\n                console.log(editApplication);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        \n        axios\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\n            .then(response => {\n                console.log(editApplicant);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n\n        window.location.reload();\n       \n    }\n\n    render() \n    {\n        const { user } = this.props.auth;\n        const userRole = this.state.userdetails.role;\n        let Applications;\n        if(userRole === \"recruiter\") {\n            Applications =\n            <div>\n                <Grid container>\n                <Grid item xs={12} md={3} lg={3}>\n                    <List component=\"nav\" aria-label=\"mailbox folders\">\n                        <ListItem text>\n                            <h3>Applications</h3>\n                        </ListItem>\n                    </List>\n                </Grid>\n                </Grid>\n                <Grid container>\n                    <Grid item xs={12} md={2} lg={9}>\n                        <Paper>\n                            <Table size=\"small\">\n                                <TableHead>\n                                    <TableRow>\n                                            <TableCell>Title</TableCell>\n                                            <TableCell>Applicant</TableCell>\n                                            <TableCell>Appl. Rating</TableCell>\n                                            <TableCell>Appl. Skills</TableCell>\n                                            <TableCell><ul><li>Education</li></ul></TableCell>\n                                            <TableCell>SOP</TableCell>\n                                            <TableCell>Status</TableCell>\n                                            <TableCell>Date of Application</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {this.state.applications.filter(item => item.status !== \"Rejected\" && item.recruiterId == user.id && item.jobId == this.props.location.state).map((application,ind) => (\n                                        <TableRow key={ind}>\n                                            <TableCell>{application.title}</TableCell>\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\n                                                <TableCell key={innd}>{applicant.name}</TableCell>\n                                            ))}\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\n                                                <TableCell key={innd}>{applicant.rating ? applicant.rating.toFixed(1): \"\"}<i className=\"material-icons\"><h6> star</h6></i></TableCell>\n                                            ))}\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\n                                                <TableCell key={innd}>{applicant.skills.join(\", \")}</TableCell>\n                                            ))}\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\n                                                <TableCell key={innd}>\n                                                    {\n                                                        applicant.education.map(ed => (\n                                                            <ul>\n                                                                <li>School: {ed.school}</li>\n                                                                <li>Degree: {ed.degree}</li>\n                                                                <li>Start date: {ed.startdate ? ed.startdate.toString().substring(0, 10): \"NA\"}</li>\n                                                                <li>End date: {ed.enddate ? ed.enddate.toString().substring(0, 10):\"NA\"}</li>\n                                                            </ul>\n                                                        ))\n                                                    }\n                                                </TableCell>\n                                            ))}\n                                            <TableCell>{application.sop}</TableCell>\n                                            <TableCell>{application.status}</TableCell>\n                                            <TableCell>{application.dateOfApplication.substring(0, 10)}</TableCell>\n                                           \n                                            {application.status === \"Applied\"?\n                                            \n                                            <TableCell>\n                                                <Tooltip title=\"Shortlist Candidate\" aria-label=\"apply\">\n                                                    <button\n                                                        className=\"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\" \n                                                        onClick={() => this.shortlist(application)}>\n                                                        Shortlist\n                                                    </button> \n                                                </Tooltip>                                            \n                                            </TableCell>\n\n                                            :\n\n                                            <div></div>\n\n                                            }\n                                            {application.status === \"Shortlisted\"?\n                                            \n                                            <TableCell>\n                                                <Tooltip title=\"Accept Candidate\" aria-label=\"apply\">\n                                                    <button\n                                                        className=\"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\" \n                                                        onClick={() => this.accept(application)}>\n                                                        Accept\n                                                    </button> \n                                                </Tooltip>                                            \n                                            </TableCell>\n\n                                            :\n\n                                            <div></div>\n\n                                            }\n                                            {application.status === \"Accepted\"?\n                                            \n                                            <TableCell>\n                                                <Tooltip title=\"Reject Candidate\" aria-label=\"apply\">\n                                                    <button\n                                                        className=\"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\" \n                                                        >\n                                                        Accepted\n                                                    </button> \n                                                </Tooltip>                                            \n                                            </TableCell>\n\n                                            :\n\n                                            <TableCell>\n                                                <Tooltip title=\"Rate this job\" aria-label=\"apply\">\n                                                    <button\n                                                        className=\"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\" \n                                                        onClick={() => this.reject(application)}>\n                                                        Reject\n                                                    </button> \n                                                </Tooltip>                                            \n                                            </TableCell>\n\n                                            }\n                                            \n                                        </TableRow>\n                                    ))}\n                                </TableBody>\n                            </Table>\n                        </Paper>               \n                    </Grid>    \n                </Grid>            \n            </div>\n        }\n        return (\n            <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n                <div className=\"row\">\n                    <div className=\"col s12 center-align\">\n                        <Card style={{ width: '100%' }}>\n                            <Card.Body>\n                                <Card.Text>\n                                    {Applications}\n                                </Card.Text>\n                            </Card.Body>\n                        </Card>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAppList.propTypes = {\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\nexport default connect(\n    mapStateToProps,\n)(AppList);"]},"metadata":{},"sourceType":"module"}